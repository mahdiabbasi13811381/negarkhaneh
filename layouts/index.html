{{ define "main" }}
<!-- Header -->
<header>
    <div class="container">
        <h1 class="site-title">{{ .Site.Title }}</h1>
        <p class="site-subtitle">{{ .Site.Params.subtitle }}</p>
    </div>
</header>

<!-- Profile Section -->
<div class="container">
    <section class="profile-section">
        <div class="profile-info">
            <h2 class="profile-name">نام عکاس</h2>
            <p class="profile-bio">
                عکاس حرفه‌ای با تخصص در عکاسی طبیعت و معماری. هدف من ثبت زیبایی‌های پنهان دنیا از زاویه‌های منحصر به فرد است.
            </p>
        </div>
    </section>
</div>

<!-- بخش نگار -->
<section class="negar-preview" dir="rtl">
    <h2>آخرین نگارها</h2>
    <div class="negar-grid">
        {{ range first 6 (where .Site.RegularPages "Type" "negar") }}
        <article class="negar-item">
            <a href="{{ .Permalink }}">
                <img src="{{ .Params.image }}" alt="{{ .Title }}">
                <div class="negar-info">
                    <h3>{{ .Title }}</h3>
                    <p>{{ .Params.artist }}</p>
                </div>
            </a>
        </article>
        {{ end }}
    </div>
</section>

<!-- بخش فرستاده -->
<section class="feresteh-preview" dir="rtl">
    <h2>آخرین فرستاده‌ها</h2>
    <div class="feresteh-list">
        {{ range first 3 (where .Site.RegularPages "Type" "feresteh") }}
        <article class="feresteh-item">
            <a href="{{ .Permalink }}">
                <h3>{{ .Title }}</h3>
                <p class="excerpt">{{ .Summary }}</p>
                <span class="read-more">ادامه مطلب →</span>
            </a>
        </article>
        {{ end }}
    </div>
</section>

<!-- Project Sections -->
{{ $projects := where .Site.RegularPages "Type" "negar" }}
{{ if $projects }}
    {{ range $projects }}
    <div class="container">
        <section class="project-section">
            <div class="project-content">
                <div class="project-images">
                    {{ if .Params.images }}
                        {{ range first 4 .Params.images }}
                        <div class="project-image">
                            <img src="{{ . }}" alt="{{ $.Title }}">
                        </div>
                        {{ end }}
                    {{ else }}
                        <!-- اگر تصویری وجود ندارد، از image اصلی استفاده کن -->
                        <div class="project-image">
                            <img src="{{ .Params.image }}" alt="{{ .Title }}">
                        </div>
                    {{ end }}
                </div>
                <div class="project-text">
                    <h2 class="project-title">{{ .Title }}</h2>
                    <div class="project-description">
                        {{ .Content }}
                    </div>
                    <a href="{{ .Permalink }}" class="view-project">مشاهده پروژه →</a>
                </div>
            </div>
        </section>
    </div>
    {{ end }}
{{ else }}
    <div class="container">
        <p>هنوز پروژه‌ای اضافه نشده است.</p>
    </div>
{{ end }}
{{ end }}
