<nav>
    <div class="nav-container">
        <div class="nav-links">
            {{ range .Site.Menus.main }}
            <a href="{{ .URL }}" class="nav-link">{{ .Name }}</a>
            {{ end }}

            <!-- Ø¯Ú©Ù…Ù‡ Ø¯Ø§Ø±Ú© Ù…ÙˆØ¯ -->
            <button id="darkModeToggle" aria-label="ØªØºÛŒÛŒØ± Ø­Ø§Ù„Øª Ù†ÙˆØ±">
                <span class="light-mode">â˜€ï¸</span>
                <span class="dark-mode" style="display: none;">ğŸŒ™</span>
            </button>
        </div>
    </div>

    <!-- Ø§Ø³Ú©Ø±ÛŒÙ¾Øª Ø¯Ø§Ø±Ú© Ù…ÙˆØ¯ (Ø¯Ø± ØµÙˆØ±Øª ØªØ±Ø¬ÛŒØ­ØŒ Ù…ÛŒâ€ŒØªÙˆØ§Ù† Ø¨Ù‡ footer Ù…Ù†ØªÙ‚Ù„ Ú©Ø±Ø¯) -->
    <script>
        document.addEventListener("DOMContentLoaded", function () {
            const darkModeToggle = document.getElementById("darkModeToggle");
            const savedTheme = localStorage.getItem("theme");
            const prefersDark = window.matchMedia("(prefers-color-scheme: dark)").matches;

            // ØªÙ†Ø¸ÛŒÙ… ØªÙ… Ø§ÙˆÙ„ÛŒÙ‡
            if (savedTheme === "dark" || (!savedTheme && prefersDark)) {
                document.documentElement.setAttribute("data-theme", "dark");
            }

            // Ø¨Ù‡â€ŒØ±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ø¢ÛŒÚ©ÙˆÙ† Ø¯Ø± Ø§Ø¨ØªØ¯Ø§
            if (document.documentElement.getAttribute("data-theme") === "dark") {
                document.querySelector(".dark-mode")?.style.display = "inline";
            }

            // ØªØºÛŒÛŒØ± ØªÙ… Ø¨Ø§ Ú©Ù„ÛŒÚ©
            darkModeToggle?.addEventListener("click", () => {
                const isDark = document.documentElement.getAttribute("data-theme") === "dark";
                const newTheme = isDark ? "light" : "dark";
                document.documentElement.setAttribute("data-theme", newTheme);
                localStorage.setItem("theme", newTheme);

                // Ø¨Ù‡â€ŒØ±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ø¢ÛŒÚ©ÙˆÙ†
                document.querySelector(".light-mode").style.display = isDark ? "inline" : "none";
                document.querySelector(".dark-mode").style.display = isDark ? "none" : "inline";
            });
        });
    </script>
</nav>
